%% start of file `moderncvstyleacademic.sty'.


%-------------------------------------------------------------------------------
%                identification
%-------------------------------------------------------------------------------
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{moderncvstyleacademic}


% head section alignment options: "left" (default) or "right"
\@initializecommand{\moderncvstyleheadoptions}{}
\DeclareOption{left} {\edef\moderncvstyleheadoptions{\moderncvstyleheadoptions,left}}
\DeclareOption{right}{\edef\moderncvstyleheadoptions{\moderncvstyleheadoptions,right}}



\DeclareOption*{}% avoid choking on unknown options
\ExecuteOptions{left}
\ProcessOptions*\relax% \ProcessOptions* processes the options in the order provided (i.e., with the later ones possibly overriding the former ones), while \ProcessOptions processes them in the order of the package

%-------------------------------------------------------------------------------
%                fonts & icons
%-------------------------------------------------------------------------------
% Latin Modern fonts
%\ifxetexorluatex
%  \setmainfont{Latin Modern Roman}
%  \setsansfont{Latin Modern Sans}
%  \setmathfont{Latin Modern Math}
%\else
  \IfFileExists{lmodern.sty}%
    {\RequirePackage{lmodern}}%
    {}
%\fi

\RequirePackage{etoolbox}
\RequirePackage{enumitem}
% adjust the page margins
\RequirePackage[margin=2cm]{geometry}
\RequirePackage{url}

% symbols
\moderncvicons{fa-academic}


%-------------------------------------------------------------------------------
%                header, body & footer
%-------------------------------------------------------------------------------
\RequirePackage[\moderncvstyleheadoptions]{moderncvheadacademic}
\moderncvbody{1}

%-------------------------------------------------------------------------------
% Custom lengths
%-------------------------------------------------------------------------------
% if you want to change the width of the column with the dates
\setlength{\hintscolumnwidth}{0.15\linewidth}
\setlength{\separatorcolumnwidth}{0.025\linewidth}

%-------------------------------------------------------------------------------
% Patch the rest of moderncv
%-------------------------------------------------------------------------------

% fix style for sections
\renewcommand*{\sectionfont}{\Large\mdseries\upshape\bfseries}
\renewcommand*{\subsectionfont}{\large\mdseries\upshape\bfseries}


% use for special titles
\newcommand{\makespecialtitle}[1]{\title{#1}\makecvtitle}
% use for emails in the body, 
\newcommand{\mail}[1]{\ttfamily\href{mailto:#1}{#1}}

% remove identation to the closure of the letter
\patchcmd{\makeletterclosing}%
{\vfill}%
{\vfill\noindent}%
{}{}


\endinput

%% end of file `moderncvstyleacademic.sty'.
